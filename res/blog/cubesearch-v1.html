<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/main.css">
<link rel="icon" type="image/svg+xml" sizes="any" href="/favicon.svg">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<script src="/main.js"></script><title>Introducing CubeSearch v1! - CubeStats</title>
<meta name="description" content="Introducing CubeSearch v1!">
</head>
<body>
<div id="sidebarToggle">☰</div>
<div id="sidebar">
	<div class="sidebarEntry"><a href="/">Coming Soon</a></div>
	<div class="sidebarEntry"><a href="/blog">Blog</a></div>
</div>
<div id="bodyContainer">
<div class="bg-tile"></div>
<a href="/"><div id="logoBox">
	<img src="/logo_responsive.svg" alt="CubeStats Logo"/>
</div></a>
<div id="main">
<div class="blogPost">
<h1>Introducing CubeSearch v1!</h1>
<h3 class="date">2025-10-17</h3>
<p>The WCA has a search function on the website. In some ways, it's very good. It searches events and people as well as blog posts, regulations, and incidents. It's also a bit slow.</p>
<div class="blog-image-container">
<img src="cubesearch-v1-im1.png" alt="The WCA search API often spends over a second or longer to process a query. In this case, it ran for 1.69 seconds."/>
<div class="blog-image-caption">The WCA search API often spends over a second or longer to process a query. In this case, it ran for 1.69 seconds.</div>
</div>
<p>There appears to be some caching behind the scenes to help, but it's rare to see a request process for less than a few hundred milliseconds, which keeps it from really feeling responsive. I suspect that's also why it's disallowed from robots.txt, meaning (well-behaved) programmatic users can't use it to build applications. It also often doesn't return the result you'd expect: why should <a href="https://www.worldcubeassociation.org/persons/2022LUKE03">Adam Luke</a> be the first search result for "Luke", while anyone with the first name "Luke" doesn't even make the search results? I wanted a search feature for an upcoming part of this site anyways, so I made my own, which I call CubeSearch!</p>
<p>Here's the short version: CubeSearch searches WCA events, competitions, and people. It looks for exact ID matches, then names or IDs that start with the query, then a more loose substring match. You can filter to only events/competitions/people. When using as a browser search engine, you can use it to quickly jump to records, single rankings, or average rankings for an event. On average, I find the results to be better than the WCA's search, and it's much faster to boot.</p>
<h2>Adding it to your browser</h2>
<p>Let me know if these get out of date over time!</p>
<h3>Firefox (desktop)</h3>
<p>Go to Settings, then select Search on the left. Scroll down to Search Shortcuts. Click Add. In the popup, set the search engine name to CubeSearch and the URL to <code>https://cube-stats.com/searchapi?f=wca&q=%s</code>. Set the keyword to <code>cs</code>, or <code>wca</code>, or whatever else you like. Then click Add Engine. You should now be able to select CubeSearch as a search option in the dropdown in the address bar, or type something like <code>cs yiheng wang</code> (depending on your keyword) to quickly use the search.</p>
<h3>Chrome (desktop)</h3>
<p>Go to Settings, then select "Search engine" on the left. Under "Site search", click Add. In the popup, set the name to CubeSearch and the URL to <code>https://cube-stats.com/searchapi?f=wca&q=%s</code>. Set the shortcut to <code>cs</code>, or <code>wca</code>, or whatever else you like. You should now be able to type something like <code>cs yiheng wang</code> (depending on your keyword) to quickly use the search.</p>
<h3>Edge (desktop)</h3>
<p>Go to settings, then click "Privacy, search, and services" on the left, then "Search and connected experiences", then "Address bar and search", then "Search engines". Now click "Add search engine". You should now be able to type something like <code>cs yiheng wang</code> (depending on your keyword) to quickly use the search.</p>
<h3>Firefox (mobile)</h3>
<p>Go to Settings, then Search, then "Manage alternative search engines". Click "Add search engine". Set the name to CubeSearch and the URL to <code>https://cube-stats.com/searchapi?f=wca&q=%s</code>. Note that there is no suggestions URL for CubeSearch at this time. You should now be able to select it from the dropdown to the left of the address bar.</p>
<h3>Safari (desktop/mobile)</h3>
<p>Apple doesn't let users add their own search engines, so I'd have to do a bunch more stuff (I think make an extension for desktop and an app for mobile) to make it work. Given that I don't own any Apple products, that's not happening any time soon. If someone else wants to, be my guest! There might also be some third-party extensions that add this functionality, but I'm not sure if any are updated or still on the store.</p>
<h3>Chrome (mobile)</h3>
<p>As far as I can tell, Chrome doesn't let you add search engines on mobile.</p>
<h3>Others</h3>
<p>If you're using another browser, it's probably either a Chrome reskin (like Opera and Edge) and so it will probably have something similar to Chrome on desktop and nothing on mobile, or you're a browser fanatic using an experimental build of Servo or whatever and you should know how to find the appropriate setting, if it exists. Regardless, if you find something that works, feel free to let me know and I might add it here.</p>
<h2>Search tips</h2>
<p>Here's a few special features you can use with CubeSearch once you've added it to the browser!</p>
<ul>
<li>Start your query with <code>e!</code>, <code>c!</code>, or <code>p!</code> to search only events, competitions, or people. For example, searching <code>john</code> currently pulls up <a href="https://www.worldcubeassociation.org/competitions/johnshopkinswinter2015">Johns Hopkins Winter 2015</a>, but <code>p!john</code> finds <a href="https://www.worldcubeassociation.org/persons/2004rand01">John Randall</a>. In most cases you probably won't need it, but it might help to avoid ambiguity.</li>
<li>When searching for events, you're normally taken to the single rankings. Start the search with <code>a!</code> to be taken to the average rankings, or <code>r!</code> for the records page.</li>
<li>Since events have top priority, you can often use a shortened version of them. For NxN events, just using the digit once is enough. For example, <code>7</code> takes you to the 7x7 single rankings, or you can use <code>a!3</code> for the 3x3 average rankings. You can also use <code>p</code> for Pyraminx, <code>c</code> for Clock, or <code>s</code> for Skewb. At the moment <code>m</code> takes you to Magic instead of Megaminx, which I intend to change at some point. Two-letter abbreviations also work: <code>sq</code> for Square-1 (although it's not much better than the full ID of <code>sq1</code>), <code>mi</code> for Megaminx, and <code>mm</code> for Master Magic. 3x3 derivatives don't have nice shorthands at the moment: you'll need to search at least <code>333b</code> to pull up 3-blind, for example. There might be some more shorthands enabled here in the future.</li>
<li>If your search doesn't return any results, you'll be taken to the WCA homepage.</li>
</ul>
<h2>Using it as an API</h2>
<p>CubeSearch is also intended for use as an API! I don't have any robots.txt restrictions or authentication requirements on it at the moment (although I may change that in the future), all I ask at the moment is that you wait until you've received your request before sending another (that is, send requests synchronously). Here's what you need to know if you're going that route:</p>
<ul>
<li>The base URL for the API is <code>https://cube-stats.com/searchapi</code>.</li>
<li>The search query is added as the URL parameter <code>q</code>: <code>https://cube-stats.com/searchapi?q=some%20search%20here</code>.</li>
<li>You can specify whether you want to search events, competitions, or people with the URL parameter <code>t</code>, which you can set to <code>event</code>, <code>competition</code>, or <code>person</code>. Example: <code>https://cube-stats.com/searchapi?q=john&t=person</code></li>
<li>You can specify what format you want the results to be in with the URL parameter <code>f</code>. The default is a JSON-encoded array of objects. Each object in the JSON array has at least these two values: <code>result</code> (containing the WCA ID as a string) and <code>type</code> (containing "event", "competition", or "person"). In the future, expect more values to be added.  You can also specify a format of <code>wca</code> to get a HTTP 303 redirect to the WCA page for the top result (used for browsers), or <code>wca_url</code> to get the same URL in a HTTP 200 response. In case the default behavior changes in the future, you might want to explicitly specify a format of <code>json</code>, which will always return the JSON array.</li>
<li>You can specify how many results you want to return with the URL parameter <code>n</code> (capped at 100). If you set the format <code>wca</code>, you'll only ever get one. If you set the format <code>wca_url</code>, the URLs will be newline-separated. The default is 10.</li>
<li>I always encode in UTF-8.</li>
</ul>
<h2>More to come</h2>
<p>This represents an important step forward in the backend of CubeStats, and I had to learn a lot to get this working. The code will be open-sourced soon™ along with the first release of the CubeStats model. I expect to make improvements to the API, especially the JSON return values, in the near future, to support a visual search bar on the website. Any significant updates will be reflected here.</p>
</div>
<p>Made by <a href="https://eiim.page/">Ethan Chapman</a> (<a href="https://www.worldcubeassociation.org/persons/2024CHAP08">2024CHAP08</a>)</p>
</div>
</div>
</body>
</html>
